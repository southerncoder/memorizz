[tool:pytest]
# Pytest configuration for MemAgent test suite

# Test discovery
testpaths = tests
python_files = test_*.py *_test.py
python_classes = Test*
python_functions = test_*

# Minimum version
minversion = 6.0

# Add options
addopts =
    --verbose
    --tb=short
    --strict-markers
    --strict-config
    --disable-warnings
    --cov=src/memorizz
    --cov-report=html:htmlcov
    --cov-report=term-missing
    --cov-fail-under=80

# Markers for organizing tests
markers =
    unit: Unit tests for individual components
    integration: Integration tests between components
    performance: Performance and stress tests
    memory: Tests for memory functionality
    single_agent: Tests for single agent scenarios
    multi_agent: Tests for multi-agent scenarios
    backward_compatibility: Tests for backward compatibility
    save_load: Tests for save/load functionality
    conversation_memory: Tests for conversation memory
    semantic_memory: Tests for semantic memory
    episodic_memory: Tests for episodic memory
    procedural_memory: Tests for procedural memory
    e2e: End-to-end tests
    stress: Stress testing
    benchmark: Performance benchmarks
    compatibility: Compatibility tests
    slow: Tests that take more time to run
    requires_llm: Tests that need actual LLM integration
    requires_memory_provider: Tests that need memory provider

# Directories to ignore during collection
norecursedirs =
    .git
    .pytest_cache
    *.egg-info
    build
    dist
    htmlcov
    .venv
    venv

# Timeout for tests (in seconds)
timeout = 300

# Parallel execution
# Run with: pytest -n auto
filterwarnings =
    ignore::DeprecationWarning
    ignore::PendingDeprecationWarning
